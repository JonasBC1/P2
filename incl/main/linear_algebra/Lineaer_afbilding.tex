\section{Lineær afbildning}
%
En matrix kan betragtes som en funktion, der afbilder en vektor i et rum.
%
\begin{defn}{}{}
Lad $\S _1 \subset \R^n$ og $\S _2 \subset \R^m$.
En funktion $f$ fra $\S_1$ til $\S_2$, noteret $f:\S_1\rightarrow\S_2$, tildeler enhver vektor $\textbf{u}$ i $\S_1$ en entydig vektor $f(\textbf{u})$ i $\S_2$.
Vektoren $f(\textbf{u})$ kaldes en \textbf{afbildning} af $\textbf{v}$.
%Hedder det codomænet på dansk? Lyder underligt. 
$\S_1$ er \textbf{domænet} for funktionen $f$, mens $\S_2$ kaldes \textbf{codomænet} til $f$.
\textbf{Værdimængden} for $f$ er defineret som mængden af afbildninger $f(\textbf{u})$ for alle $\textbf{v}\in \S_1$.
\end{defn}\noindent
%
På figur \ref{fig:afbild} ses, at både $\textbf{u}$ og $\textbf{v}$ har $\textbf{w}$ som afbildning, da $f(\textbf{u})=f(\textbf{v})=\textbf{w}$.
%
% Lav flot figur som 2.9 på side 167.
%
\input{fig/tikz/dom}
%
For funktioner, som er matrix-vektorprodukter, introduceres notationen $T_A$.
%
\begin{defn}{}{fisk3}
Lad $A$ være en $m \times n$ matrix.
Funktionen $T_A:\R^n \rightarrow \R^m$, defineret ved $T_A(\textbf{x}) = A\textbf{x}$ for alle $\textbf{x} \in \R^n$, kaldes \textbf{matrixafbildning fremkaldt af $\mathbf{A}$.}
\end{defn}\noindent
%
Direkte fra sætning \ref{thm:mxvpro} ses det, at $T_A$ har egenskaberne $T_A(\textbf{u}+\textbf{v})=T_A(\textbf{u}) + T_A(\textbf{v})$ og $cT_A(\textbf{u}) = T_A(c\textbf{u})$.
Funktioner, der opfylder disse egenskaber, får deres egen definition.
%
\begin{defn}{}{}
Funktionen $T: \R^n \rightarrow \R^m$ kaldes en \textbf{lineær afbildning}, hvis følgende vilkår gør sig gældende for alle $\textbf{u},\textbf{v} \in \R^n$ og alle skalarer $c$:
\begin{enumerate}[label=(\alph*)]
\item $T_A(\textbf{u}+\textbf{v})=T_A(\textbf{u}) + T_A(\textbf{v})$.
\item $cT_A(\textbf{u}) = T_A(c\textbf{u})$.
\end{enumerate}
\end{defn}\noindent
%
Da matrixafbildning har disse egenskaber, er alle matrixafbildninger lineære.
Følgende sætning viser nogle af egenskaberne ved lineær afbildning.
%Matrixafbildninger er ét ord. 
\begin{thm}{}{afbegen}
Lad $\textbf{u}, \textbf{v} \in \R^n$ og lad $c$ og $k$ være skalarer.
For enhver lineær afbildning $T: \R^n \rightarrow \R^m$ er følgende udsagn sande:
\begin{enumerate}[label = (\alph*)]
\item $T(\textbf{0}) = \textbf{0}$.
\item $T(-\textbf{u}) = -T(\textbf{u})$.
\item $T(\textbf{u}-\textbf{v}) = T(\textbf{u})-T(\textbf{v})$.
\item $T(c\textbf{u} + k\textbf{v}) = cT(\textbf{u}) + kT(\textbf{u})$.
\end{enumerate}
\end{thm}
%
\begin{proof}
(a) 
Lad $\textbf{u}, \textbf{v}$ være vektorer i $\R^n$, $c$ og $k$ være skalarer og lad $T: \R^n \rightarrow \R^m$ være en lineær afbildning.
Da $T$ bevarer vektoraddition haves, at
%
\begin{align*}
T(\textbf{0}) = T(\textbf{0} + \textbf{0}) = T(\textbf{0}) + T(\textbf{0}).
\end{align*}
%
(b) 
Trækkes $T(\textbf{0})$ fra begge sider haves, at $\textbf{0} = T(\textbf{0})$, hvilket viser (b).
%
Da $T$ bevarer skalering haves
% 
\begin{align*}
T(-\textbf{u}) = T((-1)\textbf{u}) = (-1)T(\textbf{u}) = -T(\textbf{u}).
\end{align*}
%
(c) 
Ved kombination af, at $T$ bevarer vektor addition og (b), haves, at
%
\begin{align*}
T(\textbf{u}-\textbf{v}) = T(\textbf{u}+(-\textbf{v})) = T(\textbf{u})+T(-\textbf{v}) = T(\textbf{u}) - T(\textbf{v}).
\end{align*}
%
(d) 
Da $T$ både bevarer både vektor addition og skalering haves, at 
%
\begin{align*}
T(c\textbf{u} + k\textbf{v}) = T(c\textbf{u}) + T(k\textbf{v}) = cT(\textbf{u}) + kT(\textbf{u}).
\end{align*}
\end{proof}
%
\\
Sætning \ref{thm:afbegen}(d) kan generaliseres til at vise, at lineær afbildning bevarer linearkombinationer.
%Linearkombinationer
\begin{lem}{}{}
Lad $T:\R^n \rightarrow \R^m$ være en lineær afbildning, $\textbf{u}_1,\textbf{u}_2,\ldots,\textbf{u}_k$ være vektorer i $\R^n$ og lad $a_1,a_2,\ldots,a_k$ være skalarer. 
Så gælder, at
%
\begin{align*}
T(a_1\textbf{u}_1 + a_2\textbf{u}_2 + \cdots + a_k\textbf{u}_k) = T(a_1\textbf{u}_1) + T(a_2\textbf{u}_2) + \cdots + T(a_k\textbf{u}_k).
\end{align*}
%
\end{lem}
%
\begin{proof}
Lemmaet følger direkte af sætning \ref{thm:afbegen}.
\end{proof}
\\
%
Bemærk, at sætning \ref{thm:afbegen}(a) i nogle tilfælde kan bruges til at vise, hvorvidt en funktion er ikke-lineær, hvis den ikke opfylder betingelsen. 
Det kan dog forekomme, at en funktion opfylder betingelsen og stadig er ikke-lineær.
% 
\\\\
% 
Hvis afbildningen $T$ er lineær, kan en tilsvarende matrix $A$ opstilles, sådan at $T=T_A$, hvilket er belyst i sætning \ref{thm:fisk2}.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
\begin{thm}{}{fisk2}
Lad $T: \R^n \rightarrow \R^m$ være lineær. 
Så findes der en entydig $m \times n$ matrix
\begin{align*}
A= [T(\mathbf{e}_1)\text{    } T(\mathbf{e}_2) \text{    } \ldots \text{    } T(\mathbf{e}_n)],
\end{align*}
hvor søjlerne er afbildninger af $T$ ud fra standardvektorene i $\R^n$, så det gælder at $T(\mathbf{v})=A \mathbf{v}$  $\forall \mathbf{v} \in \R^n$.
\end{thm}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\begin{proof}
Lad $A= [T(\mathbf{e}_1)\text{    } T(\mathbf{e}_2) \text{    } \ldots \text{    } T(\mathbf{e}_n)]$. 
Den lineære afbildning af $\mathbf{v}$ er
%
\begin{align*}
T(\mathbf{v})= T(v_1 \mathbf{e}_1+v_2 \mathbf{e}_2+ \ldots + v_n \mathbf{e}_n).
\end{align*}
%
Jævnfør sætning \ref{thm:afbegen}(d) er
%
\begin{align*}
T(\mathbf{v})= v_1 T( \mathbf{e}_1)+ v_2 T( \mathbf{e}_2) + \ldots + v_n T( \mathbf{e}_n),
\end{align*}
%
hvilket kan erstattes med elementerne i matrix A
%
\begin{align*}
T(\mathbf{v})&= v_1 \mathbf{a}_1+ v_2 \mathbf{a}_2 + \ldots + v_n \mathbf{a}_n \\
&= A \mathbf{v},
\end{align*}
%Er det meningen, at ovenstående skal være på to linjer? 
hvilket jævnfør definition \ref{defn:fisk3} beviser, at
%
\begin{align*}
T(\mathbf{v})= T_A (\mathbf{v}).
\end{align*}
%
Lad $B$ være en $m \times n$ matrix. 
For at bevise entydigheden, lad da $T_A=T_B$. 
Jævnfør sætning \ref{thm:mxvpro}(e) gælder det, at $A=B$, eftersom $A \mathbf{v}=B \mathbf{v}$ for alle $\mathbf{v}$ i $\R^n$.
\end{proof}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{eks}\label{entydigeks}
%
Lad $T: R^3 \rightarrow R^2$ være defineret ved 
$$T\left(
\begin{bmatrix}
x_1\\
x_2\\
x_3
\end{bmatrix}
\right)
=
%\begin{blockarray}{c}
\begin{bmatrix}%{[c]}
5x_1+x_2\\
3x_2+2x_3
\end{bmatrix}
%\end{blockarray}.
$$ \\
For at danne standardmatricen for $T$, dannes søjlerne 
\begin{align*}
T(\mathbf{e}_1)=
\begin{bmatrix}
5\\
0
\end{bmatrix}\text{, }
T(\mathbf{e}_2)=
\begin{bmatrix}
1\\
3
\end{bmatrix}\text{ og }
T(\mathbf{e}_3)=
\begin{bmatrix}
0\\
2
\end{bmatrix}.
\end{align*}
Derfor er standardmatricen for
\begin{align*}
T=
\begin{bmatrix}
5 & 1 & 0\\
0 & 3 & 2
\end{bmatrix}.
\end{align*}
\end{eks}